@page "/Prestamo/Create"
@inject PrestamosService prestamosService
@rendermode InteractiveServer

<PageTitle>CreatePrestamos</PageTitle>

<EditForm Model="Prestamo" OnValidSubmit="Guardar">
	<DataAnnotationsValidator />
	<div class="container">
		<div class="card-header text-center">
			<h5 class="text-title">Crear un prestamo</h5>
		</div>
		<div class="card-body">
			<div class="mb-3">
				<label class="form-label"><strong>Id Prestamo</strong></label>
				<InputNumber class="form-control" @bind-Value="Prestamo.PrestamoId" readonly></InputNumber>
			</div>
			<div class="mb-3">
				<label class="form-label"><strong>Concepto</strong></label>
				<InputText class="form-control" @bind-Value="Prestamo.Concepto"></InputText>
			</div>
			
		</div>
	</div>
</EditForm>

@code {
	public Prestamos Prestamo { get; set; } = new Prestamos();
	public string Mensaje { get; set; } = string.Empty;

	public async Task Guardar()
	{
		var creado = await prestamosService.Guardar(Prestamo);

		if (creado)
		{
			navigationManager.NavigateTo(uri: "/Prestamo/Index");
		}
		else
		{
			Mensaje = "No se pudo Guargar correctamente";
		}
	}
}
